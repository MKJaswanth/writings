<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://fonts.googleapis.com/css?family=Tangerine" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <link rel="icon" href="images/read.png" type="icon">
</head> 
<body>
    <nav>
        <a href="about.html" class="about">About</a>
        <a href="contact.html" class="about">Contact Us</a>
        <a href="contact.html" class="about">Services</a>
    </nav>

    <div class="poem1">
        <pre class="poem1_title">Nothing</pre>
        <pre class="poem">
Hurts the one who loves you through pain
and despair;
Left me wandering, like a traveler
stripped bare.
Dreams once shared, now scattered and
torn;
A path of regret where love was sworn.

How can I hate you when it’s me I
despise,
for the hurt I caused, for the endless
lies?
Too close to hold, yet too far to reach,
A lesson of love that time cannot teach.

Through the distance grows and the pain
feels near;
I drown in silence, bound by fear.
If our love is a curse, then let me fall,
for in your gaze, I’ve lost it all

                                  -Unknown
        </pre>
        
        <div class="actions">
            <button class="heart" onclick="toggleLike(this)" id="likeButton">
                ❤️ Like <span id="like_count">0</span>
            </button>
            <button class="cmt" onclick="showCommentInput()">Comment</button>
            <button class="copy-btn">Copy</button>
        </div>

        <div class="comment-section">
            <h3>Comments</h3>
            <div id="commentdisplay"></div> <!-- Display comments here -->
            <div id="commentInputContainer" style="display: none;">
                <button onclick="closeCommentInput()" class="close-btn">✖ Close</button>
                <textarea id="commentinput" placeholder="Write a comment..." rows="2"></textarea>
                <button onclick="submitComment()">Post</button>
            </div>
        </div>
    </div>

    <footer>
        <p>&copy; 2024 Jaswanth's Poetry. All Rights Reserved.</p>
    </footer>

    <script>
        document.querySelector(".copy-btn").addEventListener("click", () => {
            const poem = document.querySelector(".poem");
            navigator.clipboard.writeText(poem.textContent)
                .then(() => {
                    alert("Copied to clipboard");
                })
                .catch(err => {
                    console.error("Failed to copy text: ", err);
                });
        });

        function toggleLike(button) {
            const likeCountSpan = document.getElementById("like_count");
            const isLiked = button.classList.toggle("liked");
            likeCountSpan.textContent = isLiked ? +likeCountSpan.textContent + 1 : +likeCountSpan.textContent - 1;
            button.innerHTML = isLiked ? '❤️ Liked <span id="like_count">' + likeCountSpan.textContent + '</span>' : '♡ Like <span id="like_count">' + likeCountSpan.textContent + '</span>';
        }

        function showCommentInput() {
            const commentInputContainer = document.getElementById("commentInputContainer");
            commentInputContainer.style.display = "block"; // Show the textarea and post button
        }

        function submitComment() {
            const commentInput = document.getElementById("commentinput");
            const commentDisplay = document.getElementById("commentdisplay");

            if (commentInput.value.trim() === "") {
                alert("Please write a comment!");
                return;
            }

            const newComment = document.createElement("div");
            newComment.classList.add("comment");
            newComment.textContent = commentInput.value;
            commentDisplay.appendChild(newComment);

            commentInput.value = ""; // Clear the input after posting
        }

        function closeCommentInput() {
            const commentInputContainer = document.getElementById("commentInputContainer");
            commentInputContainer.style.display = "none"; // Hide the textarea and post button
        }
    </script>
</body>
</html>